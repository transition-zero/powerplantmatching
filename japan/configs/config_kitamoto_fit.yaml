# Config for macthing Japan assets

gcp_project: tz-data-dev

current_mappings: japan/matches/kitamoto_fit_matches.csv
comparison_xml: japan/duke_configs/Comparison_kitamoto_fit.xml
deduplication_xml: japan/duke_configs/Deleteduplicates_kitamoto_fit.xml


# ---- settings ----
aggregated_units: false
clean_name_before_aggregation: false
country_wise: false

parallel_duke_processes: false
process_limit: 4
# ---------------------------------------------------------------------------- #
#                                  Data Source Config                          #
# ---------------------------------------------------------------------------- #

KITAMOTO:
  bq_table: japan.kitamoto_power_assets
  aggregate_units: false
  clean_name: true
  remove_matched_data: true
  reliability_score: 5
  technology_map:
    biomass: biomass
    solar: solar
    hydro: hydropower
    pumped_hydro: hydropower
    thermal: thermal
    wind: onshore_wind
    geothermal: geothermal
    nuclear: nuclear
FIT:
  bq_table: japan.fit_portal_above_20kw
  aggregate_units: true
  clean_name: true
  remove_matched_data: true
  reliability_score: 5
  technology_map:
    biomass: biomass
    solar: solar
    onshore_wind: onshore_wind
    offshore_wind: offshore_wind
    hydropower: hydropower
    geothermal: geothermal
    other: other

only_operating_fit_projects: false

target_technologies:
  # - biomass
  # - solar
  # - onshore_wind
  # - hydropower
  - geothermal

target_columns:
  - Name
  - Technology
  - Capacity
  - lat
  - lon
  - admin_1 # not needed with lat lon
  - projectID


filter_to_target_admin_1s: true
target_admin_1s:
- 'JPN-AI'
- 'JPN-AK'
- 'JPN-AO'
- 'JPN-CH'
- 'JPN-EH'
- 'JPN-FI'
- 'JPN-FO'
- 'JPN-FS'
- 'JPN-GF'
- 'JPN-GM'
- 'JPN-HG'
- 'JPN-HK'

- 'JPN-HS'
- 'JPN-IB'
- 'JPN-IS'
- 'JPN-IW'
- 'JPN-KC'
- 'JPN-KG'
- 'JPN-KM'
- 'JPN-KN'
- 'JPN-KS'
- 'JPN-KY'
- 'JPN-ME'
- 'JPN-MG'
- 'JPN-MZ'
- 'JPN-NI'
- 'JPN-NN'
- 'JPN-NR'
- 'JPN-NS'

- 'JPN-ON'
- 'JPN-OS'
- 'JPN-OT'
- 'JPN-OY'
- 'JPN-SG'
- 'JPN-SH'
- 'JPN-SM'
- 'JPN-ST'
- 'JPN-SZ'
- 'JPN-TC'
- 'JPN-TK'
- 'JPN-TS'
- 'JPN-TT'
- 'JPN-TY'
- 'JPN-WK'
- 'JPN-YC'
- 'JPN-YN'
- 'JPN-YT'


# ---------------------------------------------------------------------------- #
#                                Matching Config                               #
# ---------------------------------------------------------------------------- #

# matching_sources, only the matched powerplants are added to the final dataset
matching_sources:
  # Make individual queries for the datasets as done in `fully_included_sources`
  # Queries are combined with `main_query` with an `and` operator
  - KITAMOTO
  - FIT

# # fully_included_sources, these sources are included even without match to the final dataset
fully_included_sources:
  - KITAMOTO
  - FIT

hash: "matchingjapankitfit"


# ---------------------------------------------------------------------------- #
#                             Data Structure Config                            #
# ---------------------------------------------------------------------------- #

target_countries:
  - JPN
target_fueltypes:
  []

clean_name:
  remove_common_words: false # remove words which appear more that 20 times in all entries
  remove_duplicated_words: false
  replace:
    # " ": "[^a-zA-Z]" # non-alphabetical symbols
    " ": "[^a-zA-Z0-9]" # replaces all non-alphabetical or non-numeric symbols with a space
    "":
      # This should be a list, if remove_common_words is true.
      [power, ltd, co, limited, hydroelectric, llc]
      # [
      #   # \w, #remove single letters
      # ]
    "tokyo electric power company":
      [tepco]
